<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>PorchMe – Royal Porch Design</title>



  <link rel="icon" type="image/svg+xml" href="image/favicon.svg" />

  <link rel="stylesheet" href="style.css?v=4" />

</head>

<body id="top">

  <!-- Top line accent -->

  <div class="topline"></div>



  <!-- Navbar -->

  <nav class="nav">

    <div class="wrap">

      <a class="brand" href="#top" aria-label="PorchMe Home">

        <!-- انتبه لإسم الملف: لديك siliver في المستودع -->

        <img src="image/porchme_logo_siliver.svg" alt="PorchMe Logo" class="royal-logo" />

        <span class="wordmark">PorchMe</span>

      </a>

      <button class="nav-toggle" aria-label="Toggle menu">☰</button>

      <div class="nav-links">

        <a href="#services">Services</a>

        <a href="#process">Process</a>

        <a href="#gallery">Gallery</a>

        <a href="#quote">Get a Quote</a>

        <a class="btn btn-gold" href="#quote">Book a Free Visit</a>

      </div>

    </div>

  </nav>



  <!-- Hero -->

  <header class="hero">

    <div class="overlay"></div>

    <div class="hero-inner wrap">

      <h1 class="hero-title">Royal Porch Design &amp; Build</h1>

      <p class="hero-sub">Custom porches with premium woodwork and timeless finishes.</p>

      <div class="hero-cta">

        <a class="btn btn-gold btn-lg" href="#quote">Book a Free Visit</a>

        <a class="btn btn-outline" href="#gallery">View Gallery</a>

      </div>

    </div>

  </header>



  <!-- Services -->

  <section id="services" class="section">

    <div class="wrap">

      <h2 class="section-title">Services</h2>

      <div class="grid">

        <div class="card">

          <h3>Design &amp; Planning</h3>

          <p>Concept, measurements, permits, and 3D mockups.</p>

        </div>

        <div class="card">

          <h3>Premium Materials</h3>

          <p>Hardwoods, composite decking, and royal metal accents.</p>

        </div>

        <div class="card">

          <h3>Build &amp; Finish</h3>

          <p>Expert craftsmanship, weather protection, and clean finish.</p>

        </div>

      </div>

    </div>

  </section>



  <!-- Process -->

  <section id="process" class="section section-alt">

    <div class="wrap">

      <h2 class="section-title">Our Process</h2>

      <ol class="steps">

        <li>Free visit &amp; measurements</li>

        <li>Design approval &amp; quote</li>

        <li>Build &amp; finish</li>

      </ol>

    </div>

  </section>



  <!-- Gallery -->

  <section id="gallery" class="section">

    <div class="wrap">

      <h2 class="section-title">Gallery</h2>

      <!-- السكربت يملأه تلقائيًا -->

      <div id="galleryBox" class="gallery"></div>

      <p class="hint">Upload photos to <code>image/gallery/</code> named

        <code>gallery-1.jpg</code>, <code>gallery-2.jpg</code>…</p>

    </div>

  </section>



  <!-- Quote -->

  <section id="quote" class="section section-alt">

    <div class="wrap">

      <h2 class="section-title">Get a Quote</h2>

      <form class="quote-form" onsubmit="event.preventDefault(); alert('Thank you! We will contact you shortly.');">

        <div class="row">

          <input type="text" placeholder="Full Name" required />

          <input type="tel" placeholder="Phone" required />

        </div>

        <div class="row">

          <input type="email" placeholder="Email" required />

          <input type="text" placeholder="Address (City, State)" required />

        </div>

        <textarea rows="4" placeholder="Tell us about your porch project"></textarea>

        <button class="btn btn-gold btn-lg" type="submit">Request Free Visit</button>

      </form>

    </div>

  </section>



  <footer class="footer">

    <div class="wrap">

      <p>© <span id="y"></span> PorchMe — Royal Porch Design</p>

    </div>

  </footer>



  <!-- ===== Base scripts ===== -->

  <script>

    // year + simple mobile menu

    document.getElementById('y').textContent = new Date().getFullYear();

    const toggle = document.querySelector('.nav-toggle');

    const links = document.querySelector('.nav-links');

    toggle.addEventListener('click', () => links.classList.toggle('open'));

  </script>



  <!-- ===== Auto Gallery Loader (improved) ===== -->

  <script>

    (function () {

      const box = document.getElementById('galleryBox');

      const hint = document.querySelector('.hint');

      const MAX = 60;                         // عدّلها لو عندك صور أكثر

      const base = 'image/gallery/';

      const exts = ['jpg','jpeg','webp','png'];

      const version = 'v=5';                  // غيّر الرقم عند استبدال الصور لكسر الكاش



      let loaded = 0;



      function addBadge(msg) {

        let b = document.getElementById('gBadge');

        if (!b) {

          const h2 = document.querySelector('#gallery .section-title');

          b = document.createElement('small');

          b.id = 'gBadge';

          b.style.cssText = 'margin-left:10px;color:#aab3bd;font-size:12px;';

          h2 && h2.appendChild(b);

        }

        if (b) b.textContent = msg;

      }



      function tryExt(n, i) {

        if (i >= exts.length) return; // لا ملف بهذا الرقم

        const ext = exts[i];

        const img = new Image();

        img.loading = 'lazy';

        img.alt = 'Porch ' + n;

        img.src = `${base}gallery-${n}.${ext}?${version}`;

        img.onload = () => {

          loaded++;

          img.className = 'gimg';

          box.appendChild(img);

          addBadge(`${loaded} photo${loaded>1?'s':''}`);

        };

        img.onerror = () => tryExt(n, i + 1);

      }



      for (let n = 1; n <= MAX; n++) tryExt(n, 0);



      setTimeout(() => {

        if (loaded === 0) {

          if (hint) hint.style.display = 'block';

          addBadge('no photos found');

        } else {

          if (hint) hint.style.display = 'none';

        }

      }, 1200);

    })();

  </script>



  <!-- ===== Lightbox with Navigation ===== -->

  <div id="lightbox" class="lightbox" aria-hidden="true">

    <button class="lb-btn prev" aria-label="Previous image">❮</button>

    <img class="lightbox-img" alt="preview">

    <button class="lb-btn next" aria-label="Next image">❯</button>

    <button class="close" aria-label="Close lightbox">&times;</button>

  </div>



  <script>

    (function(){

      const lb = document.getElementById('lightbox');

      const imgEl = lb.querySelector('.lightbox-img');

      const btnPrev = lb.querySelector('.prev');

      const btnNext = lb.querySelector('.next');

      const btnClose = lb.querySelector('.close');



      let images = [];

      let current = 0;

      let touchStartX = 0;



      function collectImages(){

        images = Array.from(document.querySelectorAll('.gallery img'));

      }



      function openAt(index){

        if (!images.length) collectImages();

        if (!images.length) return;

        if (index < 0) index = images.length - 1;

        if (index >= images.length) index = 0;

        current = index;

        imgEl.src = images[current].src;

        lb.style.display = 'flex';

        lb.setAttribute('aria-hidden', 'false');

        document.body.style.overflow = 'hidden';

      }



      function close(){

        lb.style.display = 'none';

        lb.setAttribute('aria-hidden', 'true');

        document.body.style.overflow = '';

      }



      function next(){ openAt(current + 1); }

      function prev(){ openAt(current - 1); }



      document.addEventListener('click', function(e){

        const t = e.target;

        if (t.matches('.gallery img')) {

          collectImages();

          const idx = images.indexOf(t);

          if (idx !== -1) openAt(idx);

        }

      });



      btnNext.addEventListener('click', next);

      btnPrev.addEventListener('click', prev);

      btnClose.addEventListener('click', close);



      lb.addEventListener('click', function(e){

        if (e.target === lb) close();

      });



      document.addEventListener('keydown', function(e){

        if (lb.getAttribute('aria-hidden') === 'true') return;

        if (e.key === 'ArrowRight') next();

        else if (e.key === 'ArrowLeft') prev();

        else if (e.key === 'Escape') close();

      });



      lb.addEventListener('touchstart', (e)=>{ touchStartX = e.changedTouches[0].clientX; }, {passive:true});

      lb.addEventListener('touchend', (e)=>{

        const dx = e.changedTouches[0].clientX - touchStartX;

        if (Math.abs(dx) > 40){ dx < 0 ? next() : prev(); }

      }, {passive:true});

    })();

  </script>

</body>

</html>
