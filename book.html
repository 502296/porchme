<form class="pm-form" id="bookingForm">

  <div class="grid2">

    <label>Full Name<input name="fullName" type="text" required></label>

    <label>Email<input name="email" type="email" required></label>

  </div>

  <div class="grid2">

    <label>Phone<input name="phone" type="tel" required></label>

    <label>Address<input name="address" type="text" required></label>

  </div>

  <div class="grid2">

    <label>City<input name="city" type="text" required></label>

    <label>ZIP Code<input name="zip" type="text" required></label>

  </div>

  <div class="grid2">

    <label>Preferred Date<input name="date" type="date" required></label>

    <label>Preferred Time<input name="time" type="time" required></label>

  </div>



  <!-- الصور اختيارية الآن (نضيف رفع لاحقًا عبر Drive API لو حبيت) -->

  <label>Notes<textarea name="notes" rows="4" placeholder="Tell us your vision…"></textarea></label>



  <div class="hero-actions" style="margin-top:1rem;">

    <button class="btn btn-gold" type="submit" id="submitBtn">Submit Request</button>

  </div>



  <p id="formMsg" class="muted" style="margin-top:.6rem;"></p>

</form>



<script>

  const BOOKING_ENDPOINT = 'PASTE_YOUR_WEB_APP_URL_HERE'; // ضع رابط الويب آب هنا



  const form = document.getElementById('bookingForm');

  const msg  = document.getElementById('formMsg');

  const btn  = document.getElementById('submitBtn');



  form.addEventListener('submit', async (e) => {

    e.preventDefault();

    msg.textContent = '';

    btn.disabled = true; btn.textContent = 'Sending…';



    const f = new FormData(form);

    const payload = {

      fullName: f.get('fullName'),

      email:    f.get('email'),

      phone:    f.get('phone'),

      address:  f.get('address'),

      city:     f.get('city'),

      zip:      f.get('zip'),

      date:     f.get('date'),

      time:     f.get('time'),

      notes:    f.get('notes')

    };



    try {

      const res = await fetch(BOOKING_ENDPOINT, {

        method: 'POST',

        mode: 'no-cors', // Apps Script يقبل بدون CORS

        headers: {'Content-Type':'application/json'},

        body: JSON.stringify(payload)

      });

      // no-cors ما يرجّع body، فنظهر رسالة نجاح مباشرة

      form.reset();

      msg.textContent = 'Thank you — your request was sent successfully.';

    } catch (err) {

      msg.textContent = 'Something went wrong. Please try again or email us.';

    } finally {

      btn.disabled = false; btn.textContent = 'Submit Request';

    }

  });

</script>
