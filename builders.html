<section class="card builder-portal">

  <h2>Builder Portal</h2>

  <p class="muted">Materials for licensed builders partnering with PorchMe.</p>



  <!-- Quick actions -->

  <div class="btn-row">

    <a class="btn btn-outline" href="docs/PorchMe_Builder_Guide.pdf" target="_blank">Download Builder Guide (PDF)</a>

    <a class="btn btn-outline" href="docs/PorchMe_Standard_Specs.pdf" target="_blank">Standard Specs (PDF)</a>

  </div>



  <hr class="divider" />



  <h3>Request Onboarding</h3>

  <p class="muted">Interested in partnering with PorchMe? Complete the form below to join our builder network.</p>



  <form id="builderForm" class="form-grid">

    <!-- anti-bot honeypot -->

    <input type="text" name="company_url" autocomplete="off" tabindex="-1" class="hidden" />



    <div class="form-field">

      <label>Full Name</label>

      <input name="full_name" type="text" required placeholder="Your name" />

    </div>



    <div class="form-field">

      <label>Company (optional)</label>

      <input name="company" type="text" placeholder="Company name" />

    </div>



    <div class="form-field">

      <label>Email</label>

      <input name="email" type="email" required placeholder="you@example.com" />

    </div>



    <div class="form-field">

      <label>Phone</label>

      <input name="phone" type="tel" required placeholder="(502) 123-4567" />

    </div>



    <div class="form-field">

      <label>Work Area (City)</label>

      <input name="city" type="text" required placeholder="Louisville" />

    </div>



    <div class="form-field">

      <label>ZIP Code</label>

      <input name="zip" type="text" required placeholder="40218" />

    </div>



    <div class="form-field">

      <label>Years of Experience</label>

      <input name="years" type="number" min="0" required placeholder="e.g., 8" />

    </div>



    <div class="form-field">

      <label>License / Insurance (PDF/JPG/PNG) – optional</label>

      <input name="credentials" type="file" accept=".pdf,.jpg,.jpeg,.png" />

    </div>



    <div class="form-field form-span">

      <label>Notes (optional)</label>

      <textarea name="notes" rows="4" placeholder="Tell us about your specialties, crew size, coverage area..."></textarea>

    </div>



    <label class="check-row form-span">

      <input type="checkbox" name="agree" required />

      <span>I confirm I’m a licensed/insured contractor and agree to be contacted by PorchMe.</span>

    </label>



    <div class="actions form-span">

      <button class="btn btn-gold" id="submitBtn" type="submit">Request Onboarding</button>

      <button class="btn btn-outline" type="reset">Clear</button>

    </div>



    <p id="status" class="status muted"></p>

  </form>

</section>



<script>

  // ====== SET THIS ======

  const SCRIPT_URL = 'PASTE_YOUR_WEB_APP_URL_HERE'; // from Apps Script Deploy > Web app

  // ======================



  const formEl = document.getElementById('builderForm');

  const statusEl = document.getElementById('status');

  const submitBtn = document.getElementById('submitBtn');



  formEl.addEventListener('submit', async (e) => {

    e.preventDefault();

    statusEl.textContent = '';

    submitBtn.disabled = true;

    submitBtn.textContent = 'Submitting...';



    // honeypot

    if (formEl.company_url && formEl.company_url.value.trim() !== '') {

      submitBtn.disabled = false;

      submitBtn.textContent = 'Request Onboarding';

      return;

    }



    try {

      const fd = new FormData(formEl);

      const res = await fetch(SCRIPT_URL, { method: 'POST', body: fd });

      const data = await res.json();



      if (data.ok) {

        formEl.reset();

        statusEl.classList.remove('error');

        statusEl.textContent = '✅ Request received. Our team will contact you shortly.';

      } else {

        throw new Error(data.message || 'Unknown error');

      }

    } catch (err) {

      statusEl.classList.add('error');

      statusEl.textContent = '❌ Submission failed. Please try again later.';

      console.error(err);

    } finally {

      submitBtn.disabled = false;

      submitBtn.textContent = 'Request Onboarding';

    }

  });

</script>



<style>

  /* minimal styles; blends with your current theme */

  .builder-portal .btn-row { display:flex; gap:.75rem; flex-wrap:wrap; margin-bottom:1rem; }

  .divider{border:0;border-top:1px solid rgba(255,255,255,.08); margin:1rem 0;}

  .form-grid{display:grid; grid-template-columns:1fr 1fr; gap:1rem;}

  .form-span{grid-column:1 / -1;}

  .form-field label{display:block; font-size:.9rem; opacity:.9; margin-bottom:.35rem;}

  .form-field input, .form-field textarea{

    width:100%; background:#0e141b; color:#fff; border:1px solid rgba(255,255,255,.12);

    border-radius:.5rem; padding:.8rem .9rem; outline:none;

  }

  .check-row{display:flex; gap:.6rem; align-items:flex-start; line-height:1.3;}

  .btn{display:inline-block; padding:.8rem 1rem; border-radius:.6rem; text-decoration:none; cursor:pointer}

  .btn-outline{border:1px solid rgba(255,255,255,.18); color:#fff; background:transparent}

  .btn-gold{background:#c9a64b; color:#0b0f14; border:none; font-weight:600}

  .muted{opacity:.75}

  .status{margin-top:.5rem}

  .status.error{color:#ff8a8a}

  .hidden{position:absolute !important; left:-9999px !important; height:0 !important; width:0 !important; opacity:0}

  @media (max-width: 720px){ .form-grid{grid-template-columns:1fr;} }

</style>
